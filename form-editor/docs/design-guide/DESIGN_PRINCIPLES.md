# Form-Editor デザイン原則

## 概要

form-editorアプリケーションのデザイン改善における基本原則とベストプラクティスを定義します。これらの原則に従うことで、一貫性があり、使いやすく、美しいユーザーインターフェースを構築できます。

## 基本デザイン原則

### 1. shadcn/ui統一（shadcn/ui Consistency）

**原則:** アプリケーション全体でshadcn/uiコンポーネントを統一して使用する

**実装ガイドライン:**
- shadcn/uiコンポーネントの優先使用
- カスタムコンポーネントのshadcn/ui化
- 統一されたテーマシステムの活用
- アクセシビリティの自動確保
- 保守性の向上

**実装済み項目:**
- SelectコンポーネントのShadcn UI化（SettingsEditor）
- 標準HTML selectからShadcn UI Selectへの移行
- 空文字列valueエラーの解決
- 統一されたドロップダウンデザイン
- Checkboxコンポーネントのshadcn/ui化
- 名前空間ベースのCSS設計（ir-form-プレフィックス）
- 埋め込みフォームのバリデーション機能
- 許可ドメイン設定機能
- フォーム複製機能
- アイコンの視覚的区別改善（Copy vs Files）
- ヘッダーコンポーネントの最適化（検索バー・通知削除、レスポンシブロゴ表示）
- ヘッダーのライトモード固定化（ダークモード切替ボタン削除）
- ユーザーメニューボタンの右端配置と黒境界線スタイリング
- メール機能の実装（受信・送信・詳細表示・返信機能）
- AlertDialogコンポーネントの統一実装
- システム全体のホバーインタラクション追加
- フォントサイズの調整とバランス改善
- shadcn/ui Tabsコンポーネントの正しい実装

**AIプロンプト例:**
```
「form-editorアプリケーションのUIコンポーネントをshadcn/uiに統一してください：

統一要件:
1. 不足しているshadcn/uiコンポーネントの追加
2. 既存コンポーネントのshadcn/ui化
3. テーマシステムの統一
4. アクセシビリティの向上
5. 一貫性の確保

技術要件:
- Next.js 15.5.3
- React 19.1.0
- Tailwind CSS 4.0
- TypeScript

追加推奨コンポーネント:
- Sidebar (ナビゲーション改善)
- Sheet (モーダル改善)
- Command (検索機能)
- Popover (ツールチップ)
- Toast (通知システム)」
```

### 2. モノトーンデザイン（Monotone Design）

**原則:** 洗練されたモノトーンデザインで統一感のあるユーザーインターフェースを構築する

**実装ガイドライン:**
- 黒、白、グレーの色調で統一
- アクティブ状態は黒背景で強調
- セカンダリアクションは白背景で表現
- 削除などの危険なアクションは赤色で警告
- 適度なシャドウとボーダーで立体感を表現

**実装済み項目:**
- サイドバーのアクティブ色を黒に設定
- ヘッダーナビゲーションのアクティブ色を黒に設定
- 新規作成ボタンを黒背景に統一
- 削除ボタンを赤色に統一
- ページネーションのアクティブ色を黒に設定
- 保存ボタンを黒背景に変更
- 戻るボタンをShadcn UIのoutlineスタイルに変更
- フォームカードのレイアウト改善（タイトルとコントロールパネルの分離）
- アイコンの視覚的区別（JavaScriptコードコピー: Copy、フォーム複製: Files）
- ヘッダーロゴのモノトーン化（グラデーションから黒背景に変更）
- レスポンシブロゴ表示の実装（768px以上で非表示、768px以下で表示）
- ライトモード固定化によるデザイン統一
- ユーザーメニューボタンの黒境界線スタイリング（通常時細線、ホバー時太線）
- メールカードのモノトーンデザイン適用
- タブのアクティブ背景を黒に設定
- 返信ボタンのモノトーンデザイン統一

### 3. 一貫性（Consistency）

**原則:** アプリケーション全体で一貫したデザインパターンとインタラクションを使用する

**実装ガイドライン:**
- 同じ機能には同じUIパターンを使用
- カラーパレット、タイポグラフィ、スペーシングの統一
- コンポーネントの再利用性を最大化
- ナビゲーションパターンの統一

**AIプロンプト例:**
```
「form-editorアプリケーションの一貫性を確保するため、以下のコンポーネントを統一してください：

統一要素:
- カラーパレット
- タイポグラフィ
- スペーシング
- ボタンスタイル
- カードデザイン

対象コンポーネント: [コンポーネントリスト]
既存のデザインシステム: [デザインシステム情報]」
```

### 3. 階層性（Hierarchy）

**原則:** 情報の重要度に応じて視覚的な階層を明確にする

**実装ガイドライン:**
- タイポグラフィのサイズとウェイトで重要度を表現
- カラーとコントラストで注意を引く
- スペーシングで要素間の関係性を表現
- シャドウとエレベーションで深度を表現

**AIプロンプト例:**
```
「form-editorの情報階層を改善してください：

改善要件:
1. ヘッダー、サブヘッダー、本文の明確な区別
2. 重要なアクションの視覚的強調
3. セカンダリアクションの適切な配置
4. 情報のグループ化と整理

現在のレイアウト: [現在のレイアウト情報]」
```

### 4. アクセシビリティ（Accessibility）

**原則:** すべてのユーザーがアプリケーションを利用できるようにする

**実装ガイドライン:**
- WCAG 2.1 AA準拠
- キーボードナビゲーション対応
- スクリーンリーダー対応
- カラーコントラストの確保
- フォーカス管理の適切な実装

**AIプロンプト例:**
```
「form-editorのアクセシビリティを改善してください：

改善項目:
1. キーボードナビゲーション
2. スクリーンリーダー対応
3. カラーコントラスト（4.5:1以上）
4. フォーカス表示
5. ARIA属性の適切な使用

対象コンポーネント: [コンポーネント名]
基準: WCAG 2.1 AA」
```

### 5. レスポンシブデザイン（Responsive Design）

**原則:** あらゆるデバイスサイズで最適な体験を提供する

**実装ガイドライン:**
- モバイルファーストアプローチ
- ブレークポイントの適切な使用
- タッチデバイス対応
- パフォーマンスの最適化

**AIプロンプト例:**
```
「form-editorのレスポンシブデザインを最適化してください：

最適化要件:
1. モバイル（320px-768px）
2. タブレット（768px-1024px）
3. デスクトップ（1024px以上）

対象コンポーネント: [コンポーネント名]
現在のレスポンシブ実装: [現在の実装]」
```

### 6. パフォーマンス（Performance）

**原則:** 高速で効率的なユーザー体験を提供する

**実装ガイドライン:**
- バンドルサイズの最適化
- レンダリングパフォーマンスの向上
- 画像とアセットの最適化
- 遅延読み込みの実装

### 7. 名前空間ベース設計（Namespace-based Design）

**原則:** 生成されるHTML/CSS/JavaScriptで名前衝突を防ぐ

**実装ガイドライン:**
- 埋め込みフォーム用の名前空間プレフィックス（ir-form-）
- IDとクラス名の一意性確保
- 他のアプリケーションとの競合回避
- バリデーション機能の組み込み

**実装済み項目:**
- フォーム生成時の名前空間プレフィックス適用
- 埋め込み用CSSの名前空間化
- クライアントサイドバリデーション機能
- 許可ドメイン設定の組み込み

**AIプロンプト例:**
```
「form-editorのパフォーマンスを最適化してください：

最適化目標:
1. バンドルサイズ20%削減
2. 初期ロード時間30%短縮
3. レンダリング時間50%短縮
4. メモリ使用量の最適化

現在のパフォーマンス: [現在のメトリクス]
技術スタック: Next.js + React + Tailwind CSS」
```

## デザインシステム原則

### カラーパレット

**基本原則:**
- セマンティックな色の使用
- 十分なコントラスト比の確保
- ダークモード対応
- ブランドアイデンティティの反映

**カラー階層:**
```css
/* モノトーンデザインカラー */
--monotone-black: #000000; /* アクティブ状態、プライマリアクション */
--monotone-white: #ffffff; /* 背景、セカンダリアクション */
--monotone-gray-50: #f9fafb; /* 軽い背景 */
--monotone-gray-100: #f3f4f6; /* 控えめな背景 */
--monotone-gray-200: #e5e7eb; /* ボーダー */
--monotone-gray-300: #d1d5db; /* 非アクティブ状態 */
--monotone-gray-600: #4b5563; /* セカンダリテキスト */
--monotone-gray-900: #111827; /* プライマリテキスト */

/* セマンティックカラー */
--danger: #ef4444; /* 削除、エラー状態 */
--danger-foreground: #ffffff;

/* プライマリカラー（モノトーン） */
--primary: var(--monotone-black);
--primary-foreground: var(--monotone-white);

/* セカンダリカラー（モノトーン） */
--secondary: var(--monotone-white);
--secondary-foreground: var(--monotone-gray-900);

/* ニュートラルカラー */
--background: var(--monotone-white);
--foreground: var(--monotone-gray-900);
--muted: var(--monotone-gray-100);
--border: var(--monotone-gray-200);
```

**AIプロンプト例:**
```
「form-editorのカラーパレットを拡張してください：

現在のパレット: [現在のカラー]
ブランドカラー: [ブランドカラー情報]

拡張要件:
1. セマンティックカラーの追加
2. グラデーションカラーの定義
3. ダークモード対応の改善
4. アクセシビリティ基準の満足

出力形式: CSS変数 + 使用例」
```

### タイポグラフィ

**基本原則:**
- 読みやすさの確保
- 階層の明確化
- 一貫性の維持
- 多言語対応

**タイポグラフィスケール:**
```css
/* カスタムフォントサイズ（調整済み） */
--text-xs: 14px; /* 以前のtext-smサイズ */
--text-xs--line-height: 20px;
--text-sm: 16px; /* 以前のtext-baseサイズ */
--text-sm--line-height: 24px;
--text-base: 18px; /* 以前のtext-lgサイズ */
--text-base--line-height: 28px;
--text-lg: 20px; /* 以前のtext-xlサイズ */
--text-lg--line-height: 28px;
--text-xl: 24px; /* 以前のtext-2xlサイズ */
--text-xl--line-height: 32px;
--text-2xl: 30px; /* 以前のtext-3xlサイズ */
--text-2xl--line-height: 36px;
--text-3xl: 36px; /* 以前のtext-4xlサイズ */
--text-3xl--line-height: 40px;
--text-4xl: 48px; /* 新規追加 */
--text-4xl--line-height: 1;
```

**AIプロンプト例:**
```
「form-editorのタイポグラフィシステムを改善してください：

改善要件:
1. 読みやすさの向上
2. 階層の明確化
3. レスポンシブ対応
4. 日本語フォントの最適化

現在のタイポグラフィ: [現在の設定]
フォント: [使用フォント]」
```

### スペーシング

**基本原則:**
- 8pxベースのグリッドシステム
- 一貫したスペーシング
- レスポンシブ対応
- 視覚的バランスの確保

**スペーシングスケール:**
```css
--space-1: 0.25rem; /* 4px */
--space-2: 0.5rem; /* 8px */
--space-3: 0.75rem; /* 12px */
--space-4: 1rem; /* 16px */
--space-6: 1.5rem; /* 24px */
--space-8: 2rem; /* 32px */
--space-12: 3rem; /* 48px */
--space-16: 4rem; /* 64px */
```

**AIプロンプト例:**
```
「form-editorのスペーシングシステムを統一してください：

統一要件:
1. 8pxベースのグリッドシステム
2. コンポーネント間の一貫したスペーシング
3. レスポンシブスペーシング
4. 視覚的バランスの最適化

現在のスペーシング: [現在の設定]
対象コンポーネント: [コンポーネントリスト]」
```

## コンポーネント設計原則

### 1. 再利用性（Reusability）

**原則:** コンポーネントは複数の場所で再利用できるように設計する

**実装ガイドライン:**
- プロップスによる柔軟性の確保
- デフォルト値の適切な設定
- バリアントの提供
- コンポーネントの組み合わせ可能性

**AIプロンプト例:**
```
「form-editorのButtonコンポーネントを再利用可能に改善してください：

改善要件:
1. 複数のバリアント（primary, secondary, outline, ghost）
2. 複数のサイズ（sm, md, lg）
3. アイコン対応
4. ローディング状態
5. 無効状態

現在のButton: [現在のコード]
技術: React + TypeScript + Tailwind CSS」
```

### 2. 拡張性（Extensibility）

**原則:** コンポーネントは将来の要件変更に対応できるように設計する

**実装ガイドライン:**
- インターフェースの明確な定義
- カスタマイズ可能なスタイリング
- イベントハンドラーの柔軟性
- プラグインアーキテクチャの考慮

**AIプロンプト例:**
```
「form-editorのCardコンポーネントを拡張可能に改善してください：

拡張要件:
1. カスタムヘッダー/フッター
2. 複数のレイアウトオプション
3. アニメーション対応
4. テーマカスタマイズ
5. アクセシビリティ強化

現在のCard: [現在のコード]」
```

### 3. パフォーマンス（Performance）

**原則:** コンポーネントは効率的にレンダリングされるように設計する

**実装ガイドライン:**
- React.memoの適切な使用
- useMemoとuseCallbackの活用
- 不要な再レンダリングの回避
- 遅延読み込みの実装

**AIプロンプト例:**
```
「form-editorのFormListコンポーネントのパフォーマンスを最適化してください：

最適化要件:
1. 大量データの効率的な表示
2. 仮想スクロールの実装
3. メモ化の活用
4. レンダリング最適化

現在のFormList: [現在のコード]
データ量: 1000件以上のフォーム」
```

## インタラクションデザイン原則

### 1. フィードバック（Feedback）

**原則:** ユーザーのアクションに対して適切なフィードバックを提供する

**実装ガイドライン:**
- 即座の視覚的フィードバック
- ローディング状態の表示
- 成功/エラーメッセージ
- プログレスインジケーター

**AIプロンプト例:**
```
「form-editorにフィードバックシステムを実装してください：

実装要件:
1. フォーム送信のフィードバック
2. ローディング状態の表示
3. エラーメッセージの表示
4. 成功メッセージの表示
5. プログレスインジケーター

技術: React + Tailwind CSS + Framer Motion」
```

### 2. マイクロインタラクション（Microinteractions）

**原則:** 小さなアニメーションでユーザー体験を向上させる

**実装ガイドライン:**
- ホバーエフェクト
- フォーカス状態
- ボタンクリック
- ページ遷移

**AIプロンプト例:**
```
「form-editorにマイクロインタラクションを追加してください：

追加要件:
1. ボタンホバーエフェクト
2. フォーム要素のフォーカス
3. カードホバーアニメーション
4. ページ遷移アニメーション
5. ローディングアニメーション

技術: Framer Motion + CSS Transitions」
```

### 3. 状態管理（State Management）

**原則:** アプリケーションの状態を適切に管理する

**実装ガイドライン:**
- 状態の一元管理
- 予測可能な状態変更
- デバッグの容易さ
- パフォーマンスの最適化

**AIプロンプト例:**
```
「form-editorの状態管理を改善してください：

改善要件:
1. フォーム状態の管理
2. UI状態の管理
3. ユーザー設定の管理
4. キャッシュ戦略
5. エラーハンドリング

技術: Zustand + React Query」
```

## 品質保証原則

### 1. テスト（Testing）

**原則:** デザインとコンポーネントの品質を保証する

**実装ガイドライン:**
- 単体テスト
- 統合テスト
- 視覚的回帰テスト
- アクセシビリティテスト

**AIプロンプト例:**
```
「form-editorのテストスイートを作成してください：

テスト要件:
1. コンポーネント単体テスト
2. ユーザーインタラクションテスト
3. アクセシビリティテスト
4. 視覚的回帰テスト
5. パフォーマンステスト

技術: Jest + React Testing Library + Storybook」
```

### 2. ドキュメント（Documentation）

**原則:** デザインシステムとコンポーネントを適切にドキュメント化する

**実装ガイドライン:**
- Storybookの活用
- 使用例の提供
- APIドキュメント
- デザインガイドライン

**AIプロンプト例:**
```
「form-editorのドキュメントシステムを構築してください：

構築要件:
1. Storybookの設定
2. コンポーネントドキュメント
3. デザインガイドライン
4. 使用例の作成
5. APIドキュメント

技術: Storybook + MDX + TypeScript」
```

## まとめ

これらのデザイン原則に従うことで、form-editorアプリケーションのデザインを一貫性があり、使いやすく、美しいものに改善できます。AIを活用する際は、これらの原則をプロンプトに含めることで、より質の高い結果を得ることができます。

各原則は相互に関連しており、バランスを保ちながら実装することが重要です。段階的なアプローチで、一つずつ原則を適用していくことをお勧めします。
